# ì´ê´‘ìˆ˜ ì¹œì¼ ì±—ë´‡ - ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

ì´ê´‘ìˆ˜ì˜ ì¹œì¼ í–‰ì ê³¼ ì‚¬ìƒì„ ì—°êµ¬í•˜ëŠ” ë©€í‹° ì—ì´ì „íŠ¸ ê¸°ë°˜ ì±—ë´‡ ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

## ðŸ“‹ ì‹œìŠ¤í…œ êµ¬ì¡°

ì´ í”„ë¡œì íŠ¸ëŠ” **3ê°œì˜ ì „ë¬¸ ì—ì´ì „íŠ¸**ê°€ í˜‘ë ¥í•˜ì—¬ ë™ìž‘í•©ë‹ˆë‹¤:

### 1. **KnowledgeAgent (ì§€ì‹ ì—ì´ì „íŠ¸)**
- ì—­í• : ë…¼ë¬¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰ ë° ë‹µë³€ ì´ˆì•ˆ ìƒì„±
- ë°ì´í„°: `GS_paper/` ë””ë ‰í† ë¦¬ì˜ í•™ìˆ  ë…¼ë¬¸ 12íŽ¸
- ê¸°ëŠ¥: RAG ê¸°ë°˜ ì§€ì‹ ê²€ìƒ‰, ì¶œì²˜ ì¶”ì 

### 2. **StyleAgent (ìŠ¤íƒ€ì¼ ì—ì´ì „íŠ¸)**
- ì—­í• : ë‹µë³€ì„ ì´ê´‘ìˆ˜ì˜ ë§íˆ¬ì™€ ë¬¸ì²´ë¡œ ë³€í™˜
- ë°ì´í„°: `GS_talk_style/` ë””ë ‰í† ë¦¬ì˜ ì´ê´‘ìˆ˜ ì›ë¬¸ 8íŽ¸
- ê¸°ëŠ¥: ë¬¸ì²´ í•™ìŠµ, ìŠ¤íƒ€ì¼ ë³€í™˜

### 3. **ValidatorAgent (ê²€ì¦ ì—ì´ì „íŠ¸)**
- ì—­í• : ìƒì„±ëœ ë‹µë³€ì´ ì´ê´‘ìˆ˜ ìŠ¤íƒ€ì¼ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦
- í‰ê°€ ê¸°ì¤€:
  - ì–´íœ˜ ì„ íƒ (25ì )
  - ë¬¸ìž¥ êµ¬ì¡° (25ì )
  - ì–´ì¡°ì™€ í†¤ (25ì )
  - ì—­ì‚¬ì  ë§¥ë½ (25ì )
- ê¸°ì¤€: 70ì  ì´ìƒ í†µê³¼

### 4. **MultiAgentOrchestrator (ì¡°ìœ¨ìž)**
- ì—­í• : ì„¸ ì—ì´ì „íŠ¸ë¥¼ ì¡°ìœ¨í•˜ì—¬ ìµœì¢… ë‹µë³€ ìƒì„±
- ì›Œí¬í”Œë¡œìš°:
  1. KnowledgeAgentê°€ ì§€ì‹ ê²€ìƒ‰ ë° ì´ˆì•ˆ ìƒì„±
  2. StyleAgentê°€ ì´ê´‘ìˆ˜ ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜
  3. ValidatorAgentê°€ ê²€ì¦
  4. ê²€ì¦ ì‹¤íŒ¨ ì‹œ ìµœëŒ€ 3íšŒ ìž¬ì‹œë„

## ðŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

> **âœ¨ ì´ í”„ë¡œì íŠ¸ëŠ” Ollamaë¥¼ ì‚¬ìš©í•˜ì—¬ ì™„ì „ ë¬´ë£Œë¡œ ë¡œì»¬ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤!**
> 
> **ðŸ–¥ï¸ ì„œë²„ ì‚¬ì–‘**: NVIDIA A100 40GB - í° ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥!

### âš¡ ìžë™ ì„¤ì¹˜ (ì¶”ì²œ!)

```bash
cd /home/work/gayeon_mulitagent
./setup.sh
```

### ðŸ“ ìˆ˜ë™ ì„¤ì¹˜

#### 1. ê°€ìƒí™˜ê²½ ìƒì„± (í•„ìˆ˜!)

```bash
cd /home/work/gayeon_mulitagent

# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv envs

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source envs/bin/activate
```

#### 2. Ollama ì„¤ì¹˜ ë° ëª¨ë¸ ë‹¤ìš´ë¡œë“œ

```bash
# Ollama ì„¤ì¹˜ (Linux)
curl -fsSL https://ollama.com/install.sh | sh

# Ollama ì„œë²„ ì‹œìž‘ (ìƒˆ í„°ë¯¸ë„)
ollama serve &

# A100ì— ìµœì í™”ëœ í° ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (ì¶”ì²œ!)
ollama pull qwen2.5:32b       # í•œêµ­ì–´ ìµœê°• 32B (18GB)
ollama pull nomic-embed-text  # ìž„ë² ë”© ëª¨ë¸ (274MB)
```

**ë” ë§Žì€ ëª¨ë¸ ì˜µì…˜ì€ [MODELS.md](MODELS.md) ì°¸ê³ **

#### 3. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# ê°€ìƒí™˜ê²½ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œ
pip install --upgrade pip
pip install -r requirements.txt
```

#### 4. í™˜ê²½ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„±
cat > .env << EOF
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:32b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
EOF
```

### 3. ì‹¤í–‰

#### ëŒ€í™”í˜• ì±—ë´‡ ì‹¤í–‰
```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™” (ë§¤ë²ˆ í•„ìš”)
source envs/bin/activate

# ì‹¤í–‰
python main.py
```

#### ì˜ˆì œ ì½”ë“œ ì‹¤í–‰
```bash
source envs/bin/activate
python examples.py
```

## ðŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
gayeon_mulitagent/
â”œâ”€â”€ agents/                      # ì—ì´ì „íŠ¸ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_agent.py           # ê¸°ë³¸ ì—ì´ì „íŠ¸ í´ëž˜ìŠ¤
â”‚   â”œâ”€â”€ style_agent.py          # ìŠ¤íƒ€ì¼ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ validator_agent.py      # ê²€ì¦ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ knowledge_agent.py      # ì§€ì‹ ì—ì´ì „íŠ¸
â”‚   â””â”€â”€ orchestrator.py         # ë©€í‹° ì—ì´ì „íŠ¸ ì¡°ìœ¨ìž
â”‚
â”œâ”€â”€ GS_paper/                    # ë…¼ë¬¸ ë°ì´í„° (12ê°œ PDF)
â”‚   â”œâ”€â”€ ì°½ì”¨ê°œëª…'ê³¼ ì¹œì¼ ì¡°ì„ ì¸ì˜ í˜‘ë ¥.pdf
â”‚   â”œâ”€â”€ ì´ê´‘ìˆ˜ì˜ ì¹œì¼ì´ë… ë‹¤ì‹œ ì½ê¸°.pdf
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ GS_talk_style/               # ì´ê´‘ìˆ˜ ì›ë¬¸ ë°ì´í„° (8ê°œ PDF)
â”‚   â”œâ”€â”€ ëŒë² ê°œ.pdf
â”‚   â”œâ”€â”€ ë¯¼ì¡± ê°œì¡°ë¡ .pdf
â”‚   â”œâ”€â”€ ì°½ì”¨ê°œëª….pdf
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ main.py                      # ë©”ì¸ ì‹¤í–‰ íŒŒì¼ (ëŒ€í™”í˜• ì¸í„°íŽ˜ì´ìŠ¤)
â”œâ”€â”€ examples.py                  # ì˜ˆì œ ë° í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ requirements.txt             # ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ .env.example                 # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â””â”€â”€ README.md                    # ì´ íŒŒì¼
```

## ðŸ’¡ ì‚¬ìš© ì˜ˆì œ

### ì˜ˆì œ 1: ëŒ€í™”í˜• ì±—ë´‡

```python
from agents import MultiAgentOrchestrator

orchestrator = MultiAgentOrchestrator(
    talk_style_dir="./GS_talk_style",
    paper_dir="./GS_paper",
    max_retries=3
)

# ëŒ€í™”í˜• ì¸í„°íŽ˜ì´ìŠ¤ ì‹œìž‘
orchestrator.chat()
```

### ì˜ˆì œ 2: ë‹¨ì¼ ì§ˆë¬¸ ì²˜ë¦¬

```python
orchestrator = MultiAgentOrchestrator()

result = orchestrator.process_query(
    "ì´ê´‘ìˆ˜ê°€ ì°½ì”¨ê°œëª…ì„ ì–´ë–»ê²Œ ì •ë‹¹í™”í–ˆë‚˜ìš”?",
    verbose=True
)

print(result['final_answer'])
print(f"ê²€ì¦ ì ìˆ˜: {result['validation_score']}/100")
```

### ì˜ˆì œ 3: ê°œë³„ ì—ì´ì „íŠ¸ ì‚¬ìš©

```python
from agents import KnowledgeAgent, StyleAgent, ValidatorAgent

# ì§€ì‹ ê²€ìƒ‰
knowledge_agent = KnowledgeAgent(paper_dir="./GS_paper")
knowledge = knowledge_agent.process({
    "query": "ì´ê´‘ìˆ˜ì˜ ë¯¼ì¡± ê°œì¡°ë¡ ",
    "top_k": 5
})

# ìŠ¤íƒ€ì¼ ë³€í™˜
style_agent = StyleAgent(talk_style_dir="./GS_talk_style")
styled = style_agent.process({
    "text": knowledge['answer'],
    "context": "ë¯¼ì¡± ê°œì¡°ë¡  ì„¤ëª…"
})

# ê²€ì¦
validator_agent = ValidatorAgent(style_agent=style_agent)
validation = validator_agent.process({
    "generated_text": styled['styled_text'],
    "original_query": "ë¯¼ì¡± ê°œì¡°ë¡  ì„¤ëª…"
})

print(f"ê²€ì¦ ê²°ê³¼: {validation['score']}/100")
```

## ðŸ”§ ì£¼ìš” ê¸°ëŠ¥

### 1. ë©€í‹° ì—ì´ì „íŠ¸ í˜‘ì—…
- ì„¸ ê°œì˜ ì „ë¬¸ ì—ì´ì „íŠ¸ê°€ ì—­í• ì„ ë¶„ë‹´í•˜ì—¬ ê³ í’ˆì§ˆ ë‹µë³€ ìƒì„±
- ê° ì—ì´ì „íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ë™ìž‘í•˜ë©´ì„œ ì„œë¡œ í˜‘ë ¥

### 2. ìžë™ í’ˆì§ˆ ê²€ì¦
- ValidatorAgentê°€ ìƒì„±ëœ ë‹µë³€ì˜ ìŠ¤íƒ€ì¼ ì í•©ì„±ì„ ìžë™ í‰ê°€
- 4ê°€ì§€ ì„¸ë¶€ ê¸°ì¤€ìœ¼ë¡œ ê°ê´€ì  í‰ê°€
- ê²€ì¦ ì‹¤íŒ¨ ì‹œ ìžë™ ìž¬ì‹œë„ (ìµœëŒ€ 3íšŒ)

### 3. RAG ê¸°ë°˜ ì§€ì‹ ê²€ìƒ‰
- ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ ì˜ë¯¸ë¡ ì  ê²€ìƒ‰
- ì¶œì²˜ ì¶”ì  ë° ì°¸ê³  ìžë£Œ ì œê³µ
- ì •í™•í•œ í•™ìˆ  ì •ë³´ ê¸°ë°˜ ë‹µë³€

### 4. ìŠ¤íƒ€ì¼ í•™ìŠµ ë° ëª¨ë°©
- ì´ê´‘ìˆ˜ì˜ ì‹¤ì œ ê¸€ì—ì„œ ë¬¸ì²´ í•™ìŠµ
- Few-shot í•™ìŠµìœ¼ë¡œ ìžì—°ìŠ¤ëŸ¬ìš´ ìŠ¤íƒ€ì¼ ë³€í™˜
- ì‹œëŒ€ì  ë°°ê²½ê³¼ ì–´ì¡° ë°˜ì˜

## ðŸ“Š ì›Œí¬í”Œë¡œìš°

```
ì‚¬ìš©ìž ì§ˆë¬¸
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. KnowledgeAgent                   â”‚
â”‚    - ë…¼ë¬¸ì—ì„œ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰        â”‚
â”‚    - í•™ìˆ ì  ë‹µë³€ ì´ˆì•ˆ ìƒì„±          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. StyleAgent                       â”‚
â”‚    - ì´ê´‘ìˆ˜ ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜           â”‚
â”‚    - ë§íˆ¬ì™€ ë¬¸ì²´ ì ìš©               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ValidatorAgent                   â”‚
â”‚    - ìŠ¤íƒ€ì¼ ì í•©ì„± ê²€ì¦ (70ì  ê¸°ì¤€) â”‚
â”‚    - 4ê°€ì§€ í•­ëª© í‰ê°€                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    í•©ê²©? â”€â”€Yesâ†’ ìµœì¢… ë‹µë³€ ë°˜í™˜
    â†“ No
    ìž¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
```

## ðŸŽ¯ í•µì‹¬ ê°œë…

### ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì´ëž€?

ì—¬ëŸ¬ ê°œì˜ **ì „ë¬¸ ì—ì´ì „íŠ¸**ê°€ ê°ìžì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ë©´ì„œ í˜‘ë ¥í•˜ì—¬ ë³µìž¡í•œ ìž‘ì—…ì„ í•´ê²°í•˜ëŠ” ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

**ìž¥ì :**
- âœ… **ëª¨ë“ˆí™”**: ê° ì—ì´ì „íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ/í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- âœ… **ì „ë¬¸í™”**: ê° ì—ì´ì „íŠ¸ê°€ íŠ¹ì • ìž‘ì—…ì— íŠ¹í™”
- âœ… **í™•ìž¥ì„±**: ìƒˆë¡œìš´ ì—ì´ì „íŠ¸ ì¶”ê°€ê°€ ìš©ì´
- âœ… **í’ˆì§ˆ ê´€ë¦¬**: ê²€ì¦ ì—ì´ì „íŠ¸ë¡œ ì¶œë ¥ í’ˆì§ˆ ë³´ìž¥

**vs ë‹¨ì¼ RAG ì‹œìŠ¤í…œ:**
- ë‹¨ì¼ RAG: ê²€ìƒ‰ â†’ ìƒì„± (ë‹¨ìˆœ, í’ˆì§ˆ ì œì–´ ì–´ë ¤ì›€)
- ë©€í‹° ì—ì´ì „íŠ¸: ê²€ìƒ‰ â†’ ìŠ¤íƒ€ì¼ ë³€í™˜ â†’ ê²€ì¦ â†’ ìž¬ì‹œë„ (ë³µìž¡í•˜ì§€ë§Œ ê³ í’ˆì§ˆ)

## ðŸ” ê²€ì¦ ê¸°ì¤€

ValidatorAgentëŠ” ë‹¤ìŒ 4ê°€ì§€ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤:

1. **ì–´íœ˜ ì„ íƒ (25ì )**
   - ì´ê´‘ìˆ˜ íŠ¹ìœ ì˜ ë‹¨ì–´ì™€ í•œìžì–´ ì‚¬ìš©
   - ì‹œëŒ€ì  í‘œí˜„ì˜ ì ì ˆì„±

2. **ë¬¸ìž¥ êµ¬ì¡° (25ì )**
   - ë¬¸ìž¥ ê¸¸ì´ì™€ ë¦¬ë“¬
   - ë…¼ë¦¬ì  ì „ê°œ ë°©ì‹

3. **ì–´ì¡°ì™€ í†¤ (25ì )**
   - ê²©ì¡°ì™€ ì„¤ë“ë ¥
   - ê°ì • í‘œí˜„ ë°©ì‹

4. **ì—­ì‚¬ì  ë§¥ë½ (25ì )**
   - ì‹œëŒ€ì  ë°°ê²½ ë°˜ì˜
   - ì¹œì¼ ë…¼ë¦¬ì˜ ìžì—°ìŠ¤ëŸ¬ìš´ ì „ê°œ

**í•©ê²© ê¸°ì¤€: 70ì  ì´ìƒ**

## ðŸ› ï¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ìž¬ì‹œë„ íšŸìˆ˜ ë³€ê²½
```python
orchestrator = MultiAgentOrchestrator(max_retries=5)  # ê¸°ë³¸ê°’: 3
```

### ëª¨ë¸ ë° ì˜¨ë„ ë³€ê²½
```python
style_agent = StyleAgent(
    model_name="qwen2.5:7b",      # ê¸°ë³¸ê°’: llama3.1 (í•œêµ­ì–´ ê°•í™” ëª¨ë¸)
    embedding_model="mxbai-embed-large",  # ê¸°ë³¸ê°’: nomic-embed-text
    temperature=0.9               # ê¸°ë³¸ê°’: 0.8
)
```

### ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ ì¡°ì •
```python
knowledge_result = knowledge_agent.process({
    "query": "ì§ˆë¬¸",
    "top_k": 10  # ê¸°ë³¸ê°’: 5
})
```

## ðŸ“ ì£¼ì˜ì‚¬í•­

1. **Ollama í•„ìˆ˜**: Ollamaê°€ `localhost:11434`ì—ì„œ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤
2. **ëª¨ë¸ ë‹¤ìš´ë¡œë“œ**: ì²« ì‹¤í–‰ ì „ `llama3.1`ê³¼ `nomic-embed-text` ëª¨ë¸ì´ í•„ìš”í•©ë‹ˆë‹¤
3. **PDF íŒŒì¼ í•„ìš”**: `GS_paper/`ì™€ `GS_talk_style/` ë””ë ‰í† ë¦¬ì— PDFê°€ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤
4. **ì²˜ë¦¬ ì‹œê°„**: ë¡œì»¬ ì‹¤í–‰ì´ë¯€ë¡œ GPUê°€ ì—†ìœ¼ë©´ ëŠë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤ (ì²« ì‹¤í–‰ì€ íŠ¹ížˆ ëŠë¦¼)
5. **ë©”ëª¨ë¦¬ ì‚¬ìš©**: ëª¨ë¸ ë¡œë”© ì‹œ ì•½ 8-10GB RAM í•„ìš”

## ðŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, ê°œì„  ì‚¬í•­ì€ ì–¸ì œë“  í™˜ì˜í•©ë‹ˆë‹¤!

## ðŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œ ìž‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
